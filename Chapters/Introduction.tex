% Chapter 1

\chapter{Introduction} % Main chapter title

\label{Introduction} % For referencing the chapter elsewhere, use \ref{Chapter1} 

%----------------------------------------------------------------------------------------

% Define some commands to keep the formatting separated from the content 
\newcommand{\keyword}[1]{\textbf{#1}}
\newcommand{\tabhead}[1]{\textbf{#1}}
\newcommand{\code}[1]{\texttt{#1}}
\newcommand{\file}[1]{\texttt{\bfseries#1}}
\newcommand{\option}[1]{\texttt{\itshape#1}}

%----------------------------------------------------------------------------------------

\section{Synthèse}

\subsection{Contexte}
Les jeux de donnes volumétriques sont présents dans de nombreux domaines tels que l'imagerie médicale, la physique, les sciences naturelles, la sécurité, l'ingénierie, etc... Ils sont composés de voxels qui représentent la forme de ces données. En effet, un volume est une fonction scalaire de trois variables spatiales $ (x, y, z) \in \mathbb{R}^3$. Ces volumes peuvent être produits de trois manières principales. Le premier consiste à acquérir directement du monde réel grâce à des dispositifs spécifiques. À titre d'exemple, les scanners à rayons X permettent de collecter des données sur les bagages dans les aéroports. La seconde méthode consiste à générer les voxels dans un volume en utilisant des modèles mathématiques. Par exemple, un écoulement de fluide dans un bassin peut être représenté dans un volume de voxels grâce au modèle mathématique adéquat. La troisième façon de produire des ensembles de données volumétriques consiste à pixelliser un modèle de données vectorielles en utilisant des algorithmes. Cela peut être réalisé à plusieurs fins, par exemple pour récupérer de nouvelles informations grâce à différentes techniques de visualisation.


Les données volumétriques sont très courantes de nos jours. L'importance de ce type de jeu de données augmente rapidement en raison du développement du champ d'acquisition de données 3D et des possibilités d'effectuer une visualisation avancée sur un poste de travail de bureau moderne avec un taux de raffraichissement interactif.

Un jeu de données volumétrique peut être capturé par diverses technologies, par ex. \textbf {IRM (imagerie par résonance magnétique)}, \textbf {tomodensitométrie}, \textbf {TEP (tomographie par émission de positrons)}, \textbf {USCT (Tomographie par ultrason)}, voir \cite{radiology}. Il peut également être produit par des simulations physiques, par exemple, la dynamique des fluides ou des systèmes de particules.


Après avoir acquis des données à partir de l'une de ces technologies, le premier défi consiste à résumer les principales caractéristiques du jeu de données. Cette étape initiale est généralement appelée l' \textbf{exploration de données}.

\ textbf {L’exploration de données} est l’étape initiale de l’analyse des données, dans laquelle les utilisateurs explorent un ensemble de données volumétriques de manière non structurée afin de découvrir des modèles, des caractéristiques et des points d’intérêt initiaux. Ce processus n’a pas pour but de révéler chaque information contenue dans un jeu de données, mais plutôt de contribuer à la création d’une vue d’ensemble des tendances importantes et des points importants à étudier plus en détail. L'exploration de données peut utiliser une combinaison de méthodes manuelles et d'outils automatisés tels que les visualisations de données et les graphiques.


Ces jeux de données tridimensionnels sont généralement volumineux (c.-à-d. Plus de 512$^{3}$) à mesure que la résolution et la précision du matériel utilisé lors de l'acquisition continuent de s'améliorer. Par conséquent, une carte graphique puissante est nécessaire pour visualiser ces ensembles de données avec une qualité élevée et de l' \ textbf {interactivité}.

Pour résumer, il existe de nombreux défis tout au long du processus d'obtention d'informations, et de récupération d'informations pertinentes à partir des jeux de données tridimensionnels.
Au cours de cette thèse, nous nous sommes principalement concentrés sur deux thèmes principaux:

\begin{itemize}

\item Une étude utilisateur où nous avons étudié l'activité spécifique de l'inspection des bagages, et proposé un système de visualisation interactif pour prendre en charge l'exploration de données volumétriques en fonction des exigences et des contraintes de ce domaine.

\item Techniques Focus+Context pour la gestion de l'occlusion dans la visualisation de données volumétriques.
\end{itemize}

\subsection{Problématique}
L'interaction avec des jeux de données volumétriques n'est pas triviale. En effet, la visualisation des volumes 3D est confrontée à de nombreux défis, tels que la gestion de l'occlusion et le taux de rafraichissement.


Plus précisément, la plupart des techniques de gestion des occlusions existantes ne répondent pas simultanément à toutes les exigences suivantes:
\begin{itemize}
\item crée rapidement une vue dégagée de la cible (R1),
\item permet une exploration locale souple de la zone cible (R2),
\item conserve le contexte dans lequel la cible est visuellement incorporée (R3),
\item gérer des ensembles de données où la cible et les objets gênants ne peuvent pas être séparé par des manipulations de la fonction de transfert (R4).
\end{itemize}

\subsection{ Question de recherche }

A partir de ces observations, cette thèse aborde la question de recherche suivante:\textbf{\textit{Pouvons-nous créer des techniques interactives pour explorer des jeux de données volumétriques tout en tenant compte du contexte et en offrant de la souplesse à l'utilisateur? }}
\NewPage


\section{Context}

Volumetric data sets are present in many fields such as medical imaging, physics, natural science, security, engineering etc. They are composed of voxels which represent the shape of these data. In fact, a volume is a scalar function of three spatial variables $(x,y,z) \in \mathbb{R}^3$. Voxel volumes can be produced in 3 main ways. The first one is to directly acquire from the real world thanks to some specific devices. As an example, X-ray scanners allow collecting data from baggage in airports. The second method is to generate the voxels through the volume by using mathematical models. For instance, a fluid flow in a basin can be represented in a volume of voxels thanks to the adequate mathematical model. The third way to produce volumetric data sets is to rasterize a vector data model using algorithms. This can be carried out for many purposes such as retrieving new insights thanks to different visualization techniques.


Volumetric data is very common nowadays. The importance of this dataset type will grow rapidly due to the development of the 3D data acquisition field, and the possibilities to perform an advanced visualization on a modern office workstation with an interactive framerate.


The dataset can be captured by various technologies, e.g. \textbf{  MRI (Magnetic resonance imaging) } , \textbf{ CT (computed tomography ) }, \textbf{PET (Positron-emission tomography ) }, \textbf{ USCT (Ultrasound computer tomography ) echolocation }, see \cite{radiology} . It also can be produced by physical simulations, for example, fluid dynamics or particle systems. The set of technologies mentioned before demonstrates that volumetric information plays an important role in medicine. It is used for an advanced cancer detection, visualization of aneurysms, and treatment planning. This kind of data is also very useful for non-destructive material testing via computer tomography or ultrasound. In addition, huge three-dimensional datasets are produced by geoseismic research.


A \textbf{  MRI (Magnetic resonance imaging) } is a radiology technique scan that uses magnetism, radio waves, and a computer to produce images of body structures. The MRI scanner is a tube surrounded by a giant circular magnet. The patient is placed on a movable bed that is inserted into the magnet. The magnet creates a strong magnetic field that aligns the protons of hydrogen atoms, which are then exposed to a beam of radio waves. This spins the various protons of the body, and they produce a faint signal that is detected by the receiver portion of the MRI scanner. A computer processes the receiver information, which produces an image.
MRI image and resolution is quite detailed, and it can detect tiny changes of structures within the body. For some procedures, contrast agents, such as gadolinium, are used to increase the accuracy of the images. \newline  An MRI scan can be used as an extremely accurate method of disease detection throughout the body and is most often used after the other testing fails to provide sufficient information to confirm a patient's diagnosis. In the head, trauma to the brain can be seen as bleeding or swelling. Other abnormalities often found include brain aneurysms, stroke, tumors of the brain, as well as tumors or inflammation of the spine.  \newline Neurosurgeons use an MRI scan not only in defining brain anatomy but also in evaluating the integrity of the spinal cord after trauma. It is also used when considering problems associated with the vertebrae or intervertebral discs of the spine. An MRI scan can evaluate the structure of the heart and aorta, where it can detect aneurysms or tears. MRI scans are not the first line of imaging test for these issues or in cases of trauma.  \newline It provides valuable information on glands and organs within the abdomen, and accurate information about the structure of the joints, soft tissues, and bones of the body. Often, surgery can be deferred or more accurately directed after knowing the results of an MRI scan.



\textbf{  Computed tomography (CT) } is a diagnostic imaging test used to create detailed images of internal organs, bones, soft tissue, and blood vessels. The cross-sectional images generated during a CT scan can be reformatted in multiple planes, and can even generate three-dimensional images which can be viewed on a computer monitor, printed on film or transferred to electronic media. CT scanning is often the best method for detecting many different cancers since the images allow to confirm the presence of a tumor and determine its size and location. CT is fast, painless, noninvasive and accurate. In emergency cases, it can reveal internal injuries and bleed quickly enough to help save lives. \newline Computed tomography (CT) of the body uses sophisticated x-ray technology to help detect a variety of diseases and conditions. CT scanning is fast, painless, noninvasive and accurate.  Industrial CT Scanning is a process which utilizes X-ray equipment to produce 3D representations of components both externally and internally. Industrial CT scanning has been utilized in many areas of industry for internal inspection of components. Some of the key uses for CT scanning have been flaw detection, failure analysis, meteorology, assembly analysis, image-based finite element methods, and reverse engineering applications. CT scanning is also employed in the imaging and conservation of museum artifacts.


 \textbf{PET (Positron-emission tomography ) } uses small amounts of radioactive materials called radio-tracers, a special camera, and a computer to help evaluate your organ and tissue functions. By identifying body changes at the cellular level, PET may detect the early onset of disease before it is evident on other imaging tests. It is a type of nuclear medicine imaging. Nuclear medicine is a branch of medical imaging that uses small amounts of radioactive material to diagnose and determine the severity of or treat a variety of diseases, including many types of cancers, heart disease, gastrointestinal, endocrine, neurological disorders and other abnormalities within the body. Because nuclear medicine procedures are able to pinpoint molecular activity within the body, they offer the potential to identify diseases in their earliest stages as well as a patient's immediate response to therapeutic interventions. Nuclear medicine images can be superimposed with computed tomography (CT) or magnetic resonance imaging (MRI) to produce special views, a practice known as image fusion or co-registration. These views allow the information from two different exams to be correlated and interpreted in one image, leading to more precise information and accurate diagnoses.


\textbf{ USCT (Ultrasound computer tomography ) echolocation }  uses ultrasound waves for creating images. In the first measurement step, a defined ultrasound wave is generated with ultrasound transducers, transmitted in direction of the measurement object and received with other or the same ultrasound transducers. While traversing and interacting with the object the ultrasound wave is changed by the object and carries now information about the object. After being recorded the information from the modulated waves can be extracted and used to create an image of the object in a second step. Unlike X-ray or other physical properties which provide typically only one information, ultrasound provides multiple information of the object for imaging: the attenuation the wave's sound pressure experiences indicate on the object's attenuation coefficient, the time-of-flight of the wave gives the speed of sound information, and the scattered wave indicates on the echogenicity of the object (e.g. refraction index, surface morphology, etc.)


After acquiring data from any of these technologies, the first challenge is to summarize the main characteristics of a dataset. This initial step is commonly data exploration.

\textbf{Data exploration} is the initial step in data analysis, where users explore a large data set in an unstructured way to uncover initial patterns, characteristics, and points of interest. This process isn’t meant to reveal every bit of information a dataset holds, but rather to help create a broad picture of important trends and major points to study in greater detail. Data exploration can use a combination of manual methods and automated tools such as data visualizations and charts.

This process makes deeper analysis easier because it can help target future searches and begin the process of excluding irrelevant data points (which can be considered as noises) and search paths or areas that may not turn up any interesting result. More importantly, it helps build a familiarity with the existing information that makes finding better answers much simpler.

Many times, data exploration uses visualization because it creates a more straightforward view of data sets than simply examining thousands of individual numbers or names. In any data exploration, the manual and automated aspects also look at different sides of the same coin.


In one hand, manual analysis helps users familiarize themselves with information and can point to broad trends. These methods are also by definition unstructured so that users can examine a whole data-sets without any preconceptions.

In the other hand, automated tools, on the other hand, are excellent at pruning out less applicable data points, reorganizing data into sets that are easier to analyze, and scrubbing data sets to make their findings relevant.


Visualizing beyond the two dimensions has become an integral part of the technical domain. Application of the third dimension is useful in many allied domains such as animation (for entertainment and education), 3D printing, architecture, game creation, and scientific visualization. Although these (and many other) domains are wide apart in their application, they can be best explored using a common focal point of 3D visualization. In order to display the volumetric data-sets acquired through the technologies presented above, a specific type of 3D visualization is used:  \textbf{the volume rendering}.



In addition to modeling and rendering volumetric phenomena, volume rendering is essential to scientific and engineering applications that require visualization of three-dimensional data sets. Examples include visualization of data acquired by medical imaging devices or resulting from computational fluid dynamics simulations. Users of interactive volume rendering applications rely on the performance of modern graphics accelerators for efficient data exploration and feature discovery.


To visualize these type of data-sets, different rendering algorithms can be used. There are two major approaches to volume rendering. The first approach is to use ray casting based algorithms. They directly come from the rendering equation. They consist in shooting rays for each pixel of the final rasterized 2D image, sampling along the part of the ray located inside the volume, shading the sampling points, and compositing all the sampling points.   
The second approach to render volumetric data sets is to use plane compositing. It consists in accumulating information over the whole view plane for each plane of voxels in the data set. When each plane is processed, a pixel of the final rasterized 2D image is updated. This technique is texture-based and uses slices of the 3D Volume. These slices can be either aligned with the data set or with the viewing plane.


These three-dimensional data-sets are usually big (i.e beyond $512^{3}$ ) as the resolution and the precision of the hardware used during the acquisition keep improving. Therefore, a powerful graphics card is needed to visualize these data-sets with high quality and \textbf{interactivity}. 

In general, \textbf{interactivity} means controlling the parameters in the visualization reference model. This naturally means that there are different types of interactivity, because the user could control the parameters to data transformations, to visual mappings, or view transformations. It also means that there are different forms of interactivity based on the response cycle of the interaction, see \cite{jacko2012human}. Thus, the visualization should allow users inputs and respond fast enough and avoid latency time. The design of how a user communicates, or interacts, with theses visualization is consequently very important. The design of the interaction component of visualization tools is concerned with what users can and should do with the represented information, what actions should be made available to them to work and think with the represented information, and what their subsequent reactions should be. The focus of interaction design, then, is on the rhetoric that takes place between users and the represented information. It is through interaction with the represented information that users can restructure and modify the form and amount of displayed information in order to optimize and enhance its utility for performing complex cognitive activities.

     
To summarize, there are many challenges throughout the whole process of getting insight and retrieve relevant information from the three-dimensional data-sets.  
During this thesis, we mainly focused on two main topics: 

\begin{itemize}

\item A user study where we investigated the specific activity of baggage inspection and proposed an interactive visualization system to support their volumetric data exploration according to the requirements and constraints of this field. 

\item Focus+Context techniques for occlusion management in volumetric data visualization.

\end{itemize}


 
 \section{Problem}
 \label{problem}
 
  Interacting with volumetric data sets is not trivial. In fact, 3D volume visualization faces many challenges such as occlusion management and the computational time.
 In volume rendering, occlusion management is a challenge. As such, in 3d representations of volumes, some areas or objects (subsets) can be partially or fully hidden by others because of their locations. Transfer functions are used to match the volumetric data to colors in a meaningful way. Therefore, they are a good way to reduce occlusion and make visible interesting features.  However, it is still difficult to create a good transfer function especially when the data are heterogeneous. In fact, designing a good transfer function depends heavily on the type of dataset and on the user's purpose. For instance, in the field of baggage inspection, the variation of densities prevents to create a unique transfer function for each baggage. In contrast, it is easier to design a good transfer function for a system dedicated to visualizing the same type of datasets (brain CT scans, bone tissues, etc.). 
 
 \subsection{Baggage inspection}
 
  Since volumetric data-sets are more and more used in many areas thanks to technological breakthroughs, switching from the old systems working with 2D images to the newest ones with 3D is not straightforward and easy.  In the field of baggage inspection, the displayed 2D scanned image can suffer from four issues or dissimulation strategy.

\textbf{Superposition}: A threat (e.g. prohibited object like a knife, cutter…) may be sheltered behind dense materials. Sometimes, it is possible to see through these blind shield using some functionalities such as high penetration (enhanced X-ray power) or image processing (contrast improvement). 

\textbf{Location}: Depending on its location inside the luggage, a threat can be difficult to detect. Objects located in the corners, in the edges or inside the luggage's frame are very difficult to identify.

\textbf{Dissociation}: Another way to dissimulate a threat is to separate and to spread parts of it in the luggage (weapon or explosive are composed of many separated items like the trigger, the cannon...). This dissociation can be combined with other dissimulation techniques.

\textbf{Lure}: An ill-intentioned individual may use a lure to hide the real threat. For instance, a minor threat like small scissors may be clearly visible and catch the security agent's attention while a more important threat remains hidden.


3D baggage scan exploration is one potential solution of such limitations. Few systems investigated this activity domain with interactive volumetric exploration tools like \cite{Li:2012:LVV:2425296.2425325}. Even if extensive works have been done in medical 3D scan exploration and manipulation by \cite{preim2013visual}, there is a great opportunity to adapt and develop new interaction and data manipulation techniques to support 3D baggage exploration.
 
 
 \subsection{Occlusion management using Focus+Context techniques}
 \label{introreq}
 
 Direct volume rendering (DVR) is a pervasive visualization technique for displaying 3D scalar fields with applications in engineering, material sciences, and medical imaging sciences. However widely adopted, and able to handle large datasets at interactive rates, DVR inherently suffers from the problem of \emph{occlusion}: Structures of interest located deep in the volume, called next \emph{targets}, can be hard to spot and/or explore.


To address this issue, various techniques have been designed including transfer functions, segmentation, selection, and clipping. Yet, all such techniques have limitations.  \emph{Global} mechanisms, like transfer function editing, can remove both occluders and targets if these have similar densities. In certain applications, carefully designed transfer functions exist and should be used without (significant) modifications to facilitate understanding and user training like with \cite{4276082}. \emph{Local} mechanisms like segmentation, selection, or clipping are more effective in manipulating data confined to a given spatial region. Yet, many such mechanisms assume that one can easily and accurately select targets to remove them (occluders) or keep them (occluded). This is hard to do when \emph{e.g.} one does not have direct access to the targets, or when significant 3D interaction is required to select occluder(s).


A different way to handle occlusion is to use \emph{lenses}. These are flexible lightweight tools which enable local and temporary modifications of the DVR to reveal targets while keeping the global visualization context ( \cite{595268,CGF:CGF12871,6327262} ). However, efficiently selecting the target and removing all in-between occluders is still challenging. More specifically, most existing occlusion management techniques do not simultaneously meet all following requirements: 


\begin{itemize}

\item rapidly create an unobstructed view of the target (R1),

\item allow a flexible local exploration of the target zone (R2),

\item keep the context in which the target is visually embedded (R3),

\item handle data-sets where the target and occluders cannot 
be separated by transfer function manipulations (R4).

\end{itemize}

\section{Research Question}

The two problems presented in the previous section (\autoref{problem}) have something in common. In fact, both issues are related to the management of occlusion and the analysis of the context. 

First, with the baggage inspection, being able to display correctly the volume and provide an interactive tool to explore while keeping in mind the whole context is really important.

Second, although existing occlusion management strategies are effective, most of them fail to keep the context while exploring a local region of interest. In, addition they do not provide enough flexibility to interact with the region of interest while the rest of the volume remains intact.

From these observations, this thesis addresses the following research question: 

\textbf{\textit{
Can we create interactive techniques to explore volumetric data-sets while taking into account the context, and providing flexibility to the user? }}


\section{ Thesis outline }

This thesis presents two scientific contributions embedded into a visualization software followed by three patents. The first one is a user Study of the interactive exploration of 3D scanned baggage.

 As the second contribution, we increase the flexibility of lenses for direct volume rendering exploration to jointly cover all above requirements in \autoref{introreq}. We propose a focus-and-context (F+C) lens that combines a distortion technique, which pushes aside the occluding objects, with a fish-eye field of view, to provide a better perspective on targets.
 

Before detailing those contributions, this manuscript starts with a presentation of existing work in volume rendering algorithms, occlusion management strategies, and volume rendering in mobile devices( smartphones, Virtual Reality, and Augmented Reality). First, we present the existing algorithms to render volumetric data-sets, then we discuss the existing strategies of occlusion management. Finally, we describe the previous work on volume rendering in mobile devices.


The third chapter presents the user study of the interactive exploration of 3D scanned baggage. First, we present the activity of airport security agents and the difficulties they face in order to highlight the main requirements for the new 3D systems. Second, we propose a set of GPGPU interactions to explore the baggage. Then we illustrate the efficiency of the proposed interactions with two use cases or scenarios.
In addition, we highlight the technical constraints and the implementation of these interaction techniques. Finally, we conclude this chapter and discuss the pertinence of the work presented in this chapter.


The fourth chapter proposes a focus-and-context (F+C) lens that combines a distortion technique, which pushes aside the occluding objects, with a fish-eye field of view, to provide a better perspective on targets. First, we exhaustively define the requirements already presented in \autoref{problem}. Second, we present the principle of our novel lens by describing all the parameters and their influences. Third, we show how this lens has been implemented on the GPU. Furthermore, we illustrate this novel lens thanks to five different scenarios from different fields of activity. Finally, we discuss the advantages and the shortcomings of this lens, then conclude this chapter.  


The fifth chapter deals with volume rendering on mobile devices or advanced displays (Virtual Reality, Augmented Reality, Mixed Reality). In fact, This chapter presents an early ongoing work on this topic. First, we define the role of the stereoscopic 3D technique. Second, we address the case of virtual reality (VR). Third, we deal with Augmented reality (AR). Then, we study volume rendering in mixed reality (MR). In the end, we conclude and discuss the perspective of this work.


Finally, we present the conclusion of the thesis and directions for future work.


